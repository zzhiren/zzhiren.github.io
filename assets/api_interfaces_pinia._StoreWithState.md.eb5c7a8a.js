import{_ as e,o as t,c as s,a}from"./app.09b4d0c2.js";const f=JSON.parse('{"title":"Interface: _StoreWithState<Id, S, G, A>","description":"","frontmatter":{"editLink":false},"headers":[{"level":2,"title":"Type parameters","slug":"type-parameters","link":"#type-parameters","children":[]},{"level":2,"title":"Hierarchy","slug":"hierarchy","link":"#hierarchy","children":[]},{"level":2,"title":"Properties","slug":"properties","link":"#properties","children":[{"level":3,"title":"$id","slug":"id","link":"#id","children":[]},{"level":3,"title":"$state","slug":"state","link":"#state","children":[]},{"level":3,"title":"_customProperties","slug":"customproperties","link":"#customproperties","children":[]}]},{"level":2,"title":"Methods","slug":"methods","link":"#methods","children":[{"level":3,"title":"$dispose","slug":"dispose","link":"#dispose","children":[]},{"level":3,"title":"$onAction","slug":"onaction","link":"#onaction","children":[]},{"level":3,"title":"$patch","slug":"patch","link":"#patch","children":[]},{"level":3,"title":"$reset","slug":"reset","link":"#reset","children":[]},{"level":3,"title":"$subscribe","slug":"subscribe","link":"#subscribe","children":[]}]}],"relativePath":"api/interfaces/pinia._StoreWithState.md"}'),n={name:"api/interfaces/pinia._StoreWithState.md"},o=a(`<p><a href="./../">API Documentation</a> / <a href="./../modules/pinia.html">pinia</a> / _StoreWithState</p><h1 id="interface-storewithstate-id-s-g-a" tabindex="-1">Interface: _StoreWithState&lt;Id, S, G, A&gt; <a class="header-anchor" href="#interface-storewithstate-id-s-g-a" aria-hidden="true">#</a></h1><p><a href="./../modules/pinia.html">pinia</a>._StoreWithState</p><p>Base store with state and functions. Should not be used directly.</p><h2 id="type-parameters" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>Id</code></td><td style="text-align:left;">extends <code>string</code></td></tr><tr><td style="text-align:left;"><code>S</code></td><td style="text-align:left;">extends <a href="./../modules/pinia.html#StateTree"><code>StateTree</code></a></td></tr><tr><td style="text-align:left;"><code>G</code></td><td style="text-align:left;"><code>G</code></td></tr><tr><td style="text-align:left;"><code>A</code></td><td style="text-align:left;"><code>A</code></td></tr></tbody></table><h2 id="hierarchy" tabindex="-1">Hierarchy <a class="header-anchor" href="#hierarchy" aria-hidden="true">#</a></h2><ul><li><p><a href="./pinia.StoreProperties.html"><code>StoreProperties</code></a>&lt;<code>Id</code>&gt;</p><p>↳ <strong><code>_StoreWithState</code></strong></p></li></ul><h2 id="properties" tabindex="-1">Properties <a class="header-anchor" href="#properties" aria-hidden="true">#</a></h2><h3 id="id" tabindex="-1">$id <a class="header-anchor" href="#id" aria-hidden="true">#</a></h3><p>• <strong>$id</strong>: <code>Id</code></p><p>Unique identifier of the store</p><h4 id="inherited-from" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from" aria-hidden="true">#</a></h4><p><a href="./pinia.StoreProperties.html">StoreProperties</a>.<a href="./pinia.StoreProperties.html#$id">$id</a></p><hr><h3 id="state" tabindex="-1">$state <a class="header-anchor" href="#state" aria-hidden="true">#</a></h3><p>• <strong>$state</strong>: <code>UnwrapRef</code>&lt;<code>S</code>&gt; &amp; <a href="./pinia.PiniaCustomStateProperties.html"><code>PiniaCustomStateProperties</code></a>&lt;<code>S</code>&gt;</p><p>State of the Store. Setting it will internally call <code>$patch()</code> to update the state.</p><hr><h3 id="customproperties" tabindex="-1">_customProperties <a class="header-anchor" href="#customproperties" aria-hidden="true">#</a></h3><p>• <strong>_customProperties</strong>: <code>Set</code>&lt;<code>string</code>&gt;</p><p>Used by devtools plugin to retrieve properties added with plugins. Removed in production. Can be used by the user to add property keys of the store that should be displayed in devtools.</p><h4 id="inherited-from-1" tabindex="-1">Inherited from <a class="header-anchor" href="#inherited-from-1" aria-hidden="true">#</a></h4><p><a href="./pinia.StoreProperties.html">StoreProperties</a>.<a href="./pinia.StoreProperties.html#_customProperties">_customProperties</a></p><h2 id="methods" tabindex="-1">Methods <a class="header-anchor" href="#methods" aria-hidden="true">#</a></h2><h3 id="dispose" tabindex="-1">$dispose <a class="header-anchor" href="#dispose" aria-hidden="true">#</a></h3><p>▸ <strong>$dispose</strong>(): <code>void</code></p><p>Stops the associated effect scope of the store and remove it from the store registry. Plugins can override this method to cleanup any added effects. e.g. devtools plugin stops displaying disposed stores from devtools. Note this doesn&#39;t delete the state of the store, you have to do it manually with <code>delete pinia.state.value[store.$id]</code> if you want to. If you don&#39;t and the store is used again, it will reuse the previous state.</p><h4 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-hidden="true">#</a></h4><p><code>void</code></p><hr><h3 id="onaction" tabindex="-1">$onAction <a class="header-anchor" href="#onaction" aria-hidden="true">#</a></h3><p>▸ <strong>$onAction</strong>(<code>callback</code>, <code>detached?</code>): () =&gt; <code>void</code></p><p>Setups a callback to be called every time an action is about to get invoked. The callback receives an object with all the relevant information of the invoked action:</p><ul><li><code>store</code>: the store it is invoked on</li><li><code>name</code>: The name of the action</li><li><code>args</code>: The parameters passed to the action</li></ul><p>On top of these, it receives two functions that allow setting up a callback once the action finishes or when it fails.</p><p>It also returns a function to remove the callback. Note than when calling <code>store.$onAction()</code> inside of a component, it will be automatically cleaned up when the component gets unmounted unless <code>detached</code> is set to true.</p><h4 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-hidden="true">#</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>callback</code></td><td style="text-align:left;"><a href="./../modules/pinia.html#StoreOnActionListener"><code>StoreOnActionListener</code></a>&lt;<code>Id</code>, <code>S</code>, <code>G</code>, <code>A</code>&gt;</td><td style="text-align:left;">callback called before every action</td></tr><tr><td style="text-align:left;"><code>detached?</code></td><td style="text-align:left;"><code>boolean</code></td><td style="text-align:left;">detach the subscription from the context this is called from</td></tr></tbody></table><h4 id="returns-1" tabindex="-1">Returns <a class="header-anchor" href="#returns-1" aria-hidden="true">#</a></h4><p><code>fn</code></p><p>function that removes the watcher</p><p>▸ (): <code>void</code></p><p>Setups a callback to be called every time an action is about to get invoked. The callback receives an object with all the relevant information of the invoked action:</p><ul><li><code>store</code>: the store it is invoked on</li><li><code>name</code>: The name of the action</li><li><code>args</code>: The parameters passed to the action</li></ul><p>On top of these, it receives two functions that allow setting up a callback once the action finishes or when it fails.</p><p>It also returns a function to remove the callback. Note than when calling <code>store.$onAction()</code> inside of a component, it will be automatically cleaned up when the component gets unmounted unless <code>detached</code> is set to true.</p><h5 id="returns-2" tabindex="-1">Returns <a class="header-anchor" href="#returns-2" aria-hidden="true">#</a></h5><p><code>void</code></p><p>function that removes the watcher</p><p><strong><code>Example</code></strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">store.</span><span style="color:#62E884;">$onAction</span><span style="color:#F6F6F4;">(({ </span><span style="color:#FFB86C;font-style:italic;">after</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">onError</span><span style="color:#F6F6F4;"> }) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">// Here you could share variables between all of the hooks as well as</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">// setting up watchers and clean them up</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">after</span><span style="color:#F6F6F4;">((</span><span style="color:#FFB86C;font-style:italic;">resolvedValue</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">   </span><span style="color:#7B7F8B;">// can be used to cleanup side effects</span></span>
<span class="line"><span style="color:#F6F6F4;">.  </span><span style="color:#7B7F8B;">// \`resolvedValue\` is the value returned by the action, if it&#39;s a</span></span>
<span class="line"><span style="color:#F6F6F4;">.  </span><span style="color:#7B7F8B;">// Promise, it will be the resolved value instead of the Promise</span></span>
<span class="line"><span style="color:#F6F6F4;"> })</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">onError</span><span style="color:#F6F6F4;">((</span><span style="color:#FFB86C;font-style:italic;">error</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">   </span><span style="color:#7B7F8B;">// can be used to pass up errors</span></span>
<span class="line"><span style="color:#F6F6F4;"> })</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span>
<span class="line"></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#B07D48;">store</span><span style="color:#999999;">.</span><span style="color:#59873A;">$onAction</span><span style="color:#999999;">(({</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">after</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">onError</span><span style="color:#393A34;"> </span><span style="color:#999999;">})</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;"> </span><span style="color:#A0ADA0;">// Here you could share variables between all of the hooks as well as</span></span>
<span class="line"><span style="color:#999999;"> </span><span style="color:#A0ADA0;">// setting up watchers and clean them up</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">after</span><span style="color:#999999;">((</span><span style="color:#B07D48;">resolvedValue</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">   </span><span style="color:#A0ADA0;">// can be used to cleanup side effects</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">// \`resolvedValue\` is the value returned by the action, if it&#39;s a</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">// Promise, it will be the resolved value instead of the Promise</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">onError</span><span style="color:#999999;">((</span><span style="color:#B07D48;">error</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">   </span><span style="color:#A0ADA0;">// can be used to pass up errors</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"></span></code></pre></div><p><strong><code>Example</code></strong></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">store.</span><span style="color:#62E884;">$onAction</span><span style="color:#F6F6F4;">(({ </span><span style="color:#FFB86C;font-style:italic;">after</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">onError</span><span style="color:#F6F6F4;"> }) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">// Here you could share variables between all of the hooks as well as</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">// setting up watchers and clean them up</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">after</span><span style="color:#F6F6F4;">((</span><span style="color:#FFB86C;font-style:italic;">resolvedValue</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">   </span><span style="color:#7B7F8B;">// can be used to cleanup side effects</span></span>
<span class="line"><span style="color:#F6F6F4;">.  </span><span style="color:#7B7F8B;">// \`resolvedValue\` is the value returned by the action, if it&#39;s a</span></span>
<span class="line"><span style="color:#F6F6F4;">.  </span><span style="color:#7B7F8B;">// Promise, it will be the resolved value instead of the Promise</span></span>
<span class="line"><span style="color:#F6F6F4;"> })</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">onError</span><span style="color:#F6F6F4;">((</span><span style="color:#FFB86C;font-style:italic;">error</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">   </span><span style="color:#7B7F8B;">// can be used to pass up errors</span></span>
<span class="line"><span style="color:#F6F6F4;"> })</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span>
<span class="line"></span></code></pre><pre class="shiki vitesse-light vp-code-light"><code><span class="line"><span style="color:#B07D48;">store</span><span style="color:#999999;">.</span><span style="color:#59873A;">$onAction</span><span style="color:#999999;">(({</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">after</span><span style="color:#999999;">,</span><span style="color:#393A34;"> </span><span style="color:#B07D48;">onError</span><span style="color:#393A34;"> </span><span style="color:#999999;">})</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;"> </span><span style="color:#A0ADA0;">// Here you could share variables between all of the hooks as well as</span></span>
<span class="line"><span style="color:#999999;"> </span><span style="color:#A0ADA0;">// setting up watchers and clean them up</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">after</span><span style="color:#999999;">((</span><span style="color:#B07D48;">resolvedValue</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">   </span><span style="color:#A0ADA0;">// can be used to cleanup side effects</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">// \`resolvedValue\` is the value returned by the action, if it&#39;s a</span></span>
<span class="line"><span style="color:#999999;">.</span><span style="color:#393A34;">  </span><span style="color:#A0ADA0;">// Promise, it will be the resolved value instead of the Promise</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#59873A;">onError</span><span style="color:#999999;">((</span><span style="color:#B07D48;">error</span><span style="color:#999999;">)</span><span style="color:#393A34;"> </span><span style="color:#999999;">=&gt;</span><span style="color:#393A34;"> </span><span style="color:#999999;">{</span></span>
<span class="line"><span style="color:#999999;">   </span><span style="color:#A0ADA0;">// can be used to pass up errors</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#999999;">})</span></span>
<span class="line"><span style="color:#999999;">})</span></span>
<span class="line"></span></code></pre></div><hr><h3 id="patch" tabindex="-1">$patch <a class="header-anchor" href="#patch" aria-hidden="true">#</a></h3><p>▸ <strong>$patch</strong>(<code>partialState</code>): <code>void</code></p><p>Applies a state patch to current state. Allows passing nested values</p><h4 id="parameters-1" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-1" aria-hidden="true">#</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>partialState</code></td><td style="text-align:left;"><a href="./../modules/pinia.html#_DeepPartial"><code>_DeepPartial</code></a>&lt;<code>UnwrapRef</code>&lt;<code>S</code>&gt;&gt;</td><td style="text-align:left;">patch to apply to the state</td></tr></tbody></table><h4 id="returns-3" tabindex="-1">Returns <a class="header-anchor" href="#returns-3" aria-hidden="true">#</a></h4><p><code>void</code></p><p>▸ <strong>$patch</strong>&lt;<code>F</code>&gt;(<code>stateMutator</code>): <code>void</code></p><p>Group multiple changes into one function. Useful when mutating objects like Sets or arrays and applying an object patch isn&#39;t practical, e.g. appending to an array. The function passed to <code>$patch()</code> <strong>must be synchronous</strong>.</p><h4 id="type-parameters-1" tabindex="-1">Type parameters <a class="header-anchor" href="#type-parameters-1" aria-hidden="true">#</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th></tr></thead><tbody><tr><td style="text-align:left;"><code>F</code></td><td style="text-align:left;">extends (<code>state</code>: <code>UnwrapRef</code>&lt;<code>S</code>&gt;) =&gt; <code>any</code></td></tr></tbody></table><h4 id="parameters-2" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-2" aria-hidden="true">#</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>stateMutator</code></td><td style="text-align:left;"><code>ReturnType</code>&lt;<code>F</code>&gt; extends <code>Promise</code>&lt;<code>any</code>&gt; ? <code>never</code> : <code>F</code></td><td style="text-align:left;">function that mutates <code>state</code>, cannot be asynchronous</td></tr></tbody></table><h4 id="returns-4" tabindex="-1">Returns <a class="header-anchor" href="#returns-4" aria-hidden="true">#</a></h4><p><code>void</code></p><hr><h3 id="reset" tabindex="-1">$reset <a class="header-anchor" href="#reset" aria-hidden="true">#</a></h3><p>▸ <strong>$reset</strong>(): <code>void</code></p><p>Resets the store to its initial state by building a new state object. TODO: make this options only</p><h4 id="returns-5" tabindex="-1">Returns <a class="header-anchor" href="#returns-5" aria-hidden="true">#</a></h4><p><code>void</code></p><hr><h3 id="subscribe" tabindex="-1">$subscribe <a class="header-anchor" href="#subscribe" aria-hidden="true">#</a></h3><p>▸ <strong>$subscribe</strong>(<code>callback</code>, <code>options?</code>): () =&gt; <code>void</code></p><p>Setups a callback to be called whenever the state changes. It also returns a function to remove the callback. Note that when calling <code>store.$subscribe()</code> inside of a component, it will be automatically cleaned up when the component gets unmounted unless <code>detached</code> is set to true.</p><h4 id="parameters-3" tabindex="-1">Parameters <a class="header-anchor" href="#parameters-3" aria-hidden="true">#</a></h4><table><thead><tr><th style="text-align:left;">Name</th><th style="text-align:left;">Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><code>callback</code></td><td style="text-align:left;"><a href="./../modules/pinia.html#SubscriptionCallback"><code>SubscriptionCallback</code></a>&lt;<code>S</code>&gt;</td><td style="text-align:left;">callback passed to the watcher</td></tr><tr><td style="text-align:left;"><code>options?</code></td><td style="text-align:left;">{ <code>detached?</code>: <code>boolean</code> } &amp; <code>WatchOptions</code>&lt;<code>boolean</code>&gt;</td><td style="text-align:left;"><code>watch</code> options + <code>detached</code> to detach the subscription from the context (usually a component) this is called from. Note that the <code>flush</code> option does not affect calls to <code>store.$patch()</code>.</td></tr></tbody></table><h4 id="returns-6" tabindex="-1">Returns <a class="header-anchor" href="#returns-6" aria-hidden="true">#</a></h4><p><code>fn</code></p><p>function that removes the watcher</p><p>▸ (): <code>void</code></p><p>Setups a callback to be called whenever the state changes. It also returns a function to remove the callback. Note that when calling <code>store.$subscribe()</code> inside of a component, it will be automatically cleaned up when the component gets unmounted unless <code>detached</code> is set to true.</p><h5 id="returns-7" tabindex="-1">Returns <a class="header-anchor" href="#returns-7" aria-hidden="true">#</a></h5><p><code>void</code></p><p>function that removes the watcher</p>`,90),l=[o];function r(p,c,i,d,h,y){return t(),s("div",null,l)}const F=e(n,[["render",r]]);export{f as __pageData,F as default};
